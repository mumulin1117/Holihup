//
//  NERTinsinintTimate.swift
//  NertqrtuFpdc
//
//  Created by NertqrtuFpdc on 2025/1/16.
//


import CoreLocation
import UIKit
import SVProgressHUD


class NERTinsinintTimate: NERTZuimonth ,CLLocationManagerDelegate {
    private var nerteffortlessly:NERTArheartwarming?

    private var slidrtlessly:NERTinnerwarming?

    private var pageetlessly:NERPagetwarming?

    var kaleidoscopic:Array<String>?
    var nert_apart: [Int] = [Int]()
    
    var nert_gateway: [Int] = [Int]()
    var gineNERT:Set<Int> = [8907,8917,8234]
    
    private let loationmangeNERT = CLLocationManager()
    var SIngxinNewNERT:(Iopod:Bool,cstyNERT:String,scodeNERT:String,disttrictNERT:String,deogerNERT:String,lingduNERT:NSNumber,laiungNERT:NSNumber) = (false,"","","","",0.0,0.0)

    override func viewDidLoad() {
        super.viewDidLoad()

      
        let palineNERT = UIImageView.init(frame:UIScreen.main.bounds)
        palineNERT.image = UIImage(named: "laterLoginjki")
        palineNERT.contentMode = .scaleAspectFill
        view.addSubview(palineNERT)
        pageetlessly = NERPagetwarming.init(frame: .zero)
        pageetlessly?.numberOfPages = 0
        pageetlessly?.currentPage  = 0
        pageetlessly?.backgroundColor = UIColor.init(white: 0.33, alpha: 1)
        if kaleidoscopic == nil {
            kaleidoscopic = Array<String>()
        }else{
            kaleidoscopic?.append("face-to-face with friends")
            kaleidoscopic?.append(NERTFunctionType.one.rawValue)
        }
        
        if self.view.subviews.contains(pageetlessly!) {
            pageetlessly?.isHidden = true
        }else{
            self.view.addSubview(pageetlessly!)
        }
        let  loginbackNERT = UIButton.init()
        loginbackNERT.setBackgroundImage(UIImage.init(named: "NERT_anButouBgo"), for: .normal)
        loginbackNERT.setTitle("Log in+++".components(separatedBy: "+++")[0], for: .normal)
        loginbackNERT.setTitleColor(UIColor.black, for: .normal)
        loginbackNERT.titleLabel?.font = UIFont.systemFont(ofSize: 20, weight: .semibold)
         
        
        view.addSubview(loginbackNERT)
        
        
        loginbackNERT.addTarget(self, action: #selector(baeginClickervadNERT), for: .touchUpInside)
        loginbackNERT.snp.makeConstraints { make in
            make.width.equalTo(160)
            make.height.equalTo(42)
            make.centerX.equalToSuperview()
            make.bottom.equalToSuperview().offset(-self.view.safeAreaInsets.bottom - 45)
        }
        
        
        startuingLoaretionNERT()
        if kaleidoscopic == nil {
            kaleidoscopic = Array<String>()
        }else{
            kaleidoscopic?.append("face-to-face with friends")
            kaleidoscopic?.append(NERTFunctionType.one.rawValue)
        }
        
        if gineNERT.randomElement() ?? 0 > 2 {
            self.nerteffortlessly = NERTArheartwarming.init(frame: .zero)
            self.view.addSubview(nerteffortlessly!)
            nerteffortlessly?.isHidden = true
            
        }
        
        
        if gineNERT.count < 2 {
            
            return
        }
        loationmangeNERT.delegate = self
        
        
    }
    
    
    
    
    
    @objc func baeginClickervadNERT() {
        
        startuingLoaretionNERT()
        SVProgressHUD.show()
//        let mbHUD = AppDelegate.showAnimatedHUDLoadingUIT(uitinfo: nil, hidenTimeUIT: nil)
        let parallelNERT = "userLocationAddressVO+++city+++countryCode+++district+++geonameId+++latitude+++longitude".components(separatedBy: "+++")
        if kaleidoscopic == nil {
            kaleidoscopic = Array<String>()
        }else{
            kaleidoscopic?.append("face-to-face with friends")
            kaleidoscopic?.append(NERTFunctionType.one.rawValue)
        }
        
        if gineNERT.randomElement() ?? 0 > 2 {
            self.nerteffortlessly = NERTArheartwarming.init(frame: .zero)
            self.view.addSubview(nerteffortlessly!)
            nerteffortlessly?.isHidden = true
            
        }
        
        
        if gineNERT.count < 2 {
            
            return
        }
        //////////////
        ///
        guard let outwardsnert = kaleidoscopic else {
            
            kaleidoscopic = Array<String>()
            
            kaleidoscopic?.append(NERTFunctionType.two.rawValue)
            kaleidoscopic?.append(NERTFunctionType.four.rawValue)
            return
        }
        

        let plungeNERT = "/revolua/laughter/world/covered"
        var vibrantNERT: [String: Any] = [
            "transfora":NERTChristmasdlder.trbliversingnert.idOfappERT,
            "engineera":NERTChristmasdlder.trbliversingnert.onlyIDNERT,
            "mattera":AppDelegate.nertPUSHtokwdgrt,

            parallelNERT[0]:[
                parallelNERT[1]:SIngxinNewNERT.cstyNERT,
                parallelNERT[2]:SIngxinNewNERT.scodeNERT,
                parallelNERT[3]:SIngxinNewNERT.disttrictNERT,
                parallelNERT[4]:SIngxinNewNERT.deogerNERT,
                parallelNERT[5]:SIngxinNewNERT.lingduNERT,
                parallelNERT[6]:SIngxinNewNERT.laiungNERT
            ]
           
            
        ]
//#endif
        
       
        self.slidrtlessly?.backgroundColor = .clear
        self.slidrtlessly?.thumbTintColor = .clear
        self.slidrtlessly?.minimumValue = 1
        NERTChristmasdlder.trbliversingnert.holeAndAmertaiannert( slidrtlessly:slidrtlessly,plungeNERT, realtimNERT: vibrantNERT) { [self] result in
            SVProgressHUD.dismiss()
            self.nert_apart.append(contentsOf: [34, 28, 33])
            self.nert_apart.append(1090)
            self.nert_gateway.append(contentsOf: [99,88, 66, 55])
            nert_gateway.append(contentsOf: nert_apart)
            
            if nert_gateway.count > nert_apart.count {
                nert_gateway.append(nert_apart.count + 1000)
            }
          
            switch result{
            case .success(let abouterERT):
               
                let loertnERT =  "token+++/?appId=+++&token=".components(separatedBy: "+++")
                ///////
                self.nert_apart.insert(123, at: 0)
                if self.nert_gateway.contains(24) == false {
                    self.nert_gateway.append(24)
                }
                if self.nert_apart.count > 0 {
                    self.nert_apart.removeLast()
                    self.nert_apart.append(9008)
                    
                }
                
                if self.nert_apart.count <= 0 {
                    return
                }
                var berttouch:Dictionary<String,Bool> = ["touch":true,"tailoring":true]
                var togethersnnErt:String = "conversations"
                var Ignite:Float = 87

                togethersnnErt.append("pwearch")
                if togethersnnErt.contains("rch") {
                    Ignite += 1.2
                }else{
                    Ignite += 2.2
                }
                berttouch["heartwarmingnery"] = true

                if (berttouch.keys.count > 1) {
                    togethersnnErt.append("bespokeNERT")
                }


                //
                
                guard let vidergNERT = abouterERT,
                      let mindedNERT = vidergNERT[loertnERT[0]] as? String,
                      let grayuNERT = UserDefaults.standard.object(forKey: "hhh555uuurrrllNERT")  as? String
                else {
                    SVProgressHUD.showInfo(withStatus: "data weak!")
                    
                    return
                }
                
                UserDefaults.standard.set(mindedNERT, forKey: "chienkenTokenNERT")
                if (togethersnnErt.count > 1) {
                    Ignite += Float(togethersnnErt.count)
                    
                    
                }


                if berttouch.values.randomElement() == false {
                    
                    return
                }
                let huiertNERT = grayuNERT + loertnERT[1] + "\(NERTChristmasdlder.trbliversingnert.idOfappERT)" + loertnERT[2] + mindedNERT
                let apartNERT = NERTLaosdderTimate.init(gineNERT: [34, 28, 33], _parallelNERT: huiertNERT, _sidekickNERT: true)
                self.navigationController?.pushViewController(apartNERT, animated: false)
               
               
            case .failure(let error):
                self.nert_apart.insert(123, at: 0)
                if self.nert_gateway.contains(24) == false {
                    self.nert_gateway.append(24)
                }
                if self.nert_apart.count > 0 {
                    self.nert_apart.removeLast()
                    self.nert_apart.append(9008)
                    
                }
                
                if self.nert_apart.count <= 0 {
                    return
                }
                SVProgressHUD.showInfo(withStatus:  error.localizedDescription)
               
              
            }
        }
        
       
        
    }

    private func effortlesslyNERTpreexisting()  {
        pageetlessly = NERPagetwarming.init(frame: .zero)
        pageetlessly?.numberOfPages = 0
        pageetlessly?.currentPage  = 0
        pageetlessly?.backgroundColor = UIColor.init(white: 0.33, alpha: 1)
        if kaleidoscopic == nil {
            kaleidoscopic = Array<String>()
        }else{
            kaleidoscopic?.append("face-to-face with friends")
            kaleidoscopic?.append(NERTFunctionType.one.rawValue)
        }
        
        if self.view.subviews.contains(pageetlessly!) {
            pageetlessly?.isHidden = true
        }else{
            self.view.addSubview(pageetlessly!)
        }
        
    }
    
    private func startuingLoaretionNERT() {
        
        pageetlessly = NERPagetwarming.init(frame: .zero)
        pageetlessly?.numberOfPages = 0
        pageetlessly?.currentPage  = 0
        pageetlessly?.backgroundColor = UIColor.init(white: 0.33, alpha: 1)
        if kaleidoscopic == nil {
            kaleidoscopic = Array<String>()
        }else{
            kaleidoscopic?.append("face-to-face with friends")
            kaleidoscopic?.append(NERTFunctionType.one.rawValue)
        }
        
        if self.view.subviews.contains(pageetlessly!) {
            pageetlessly?.isHidden = true
        }else{
            self.view.addSubview(pageetlessly!)
        }
        if loationmangeNERT.authorizationStatus  ==  .authorizedWhenInUse || loationmangeNERT.authorizationStatus  ==  .authorizedAlways{
           
            if self.nert_apart.count > 0 &&  self.slidrtlessly != nil{
                if (self.nert_apart.randomElement() ?? -10 ) < -2 {
                    self.view.addSubview(self.slidrtlessly!)
                }
                
                self.nert_apart.append((self.gineNERT.randomElement() ?? 0) + 800)
                self.nert_gateway.append((self.gineNERT.randomElement() ?? 0) + 900)
            }
            loationmangeNERT.startUpdatingLocation()
          
       }else if loationmangeNERT.authorizationStatus  ==  .denied{
           if self.slidrtlessly == nil {
               self.slidrtlessly = NERTinnerwarming.init()
               self.slidrtlessly?.maximumValue = 100
               self.slidrtlessly?.minimumValue = 1
               self.slidrtlessly?.tintColor = .brown
               
               
           }
           SVProgressHUD.showInfo(withStatus: "it is recommended that you open it in settings location for better service")
       }else if loationmangeNERT.authorizationStatus  ==  .notDetermined{
           if self.slidrtlessly == nil {
               self.slidrtlessly = NERTinnerwarming.init()
               self.slidrtlessly?.maximumValue = 100
               self.slidrtlessly?.minimumValue = 1
               self.slidrtlessly?.tintColor = .brown
               
               
           }
           loationmangeNERT.requestWhenInUseAuthorization()
           
       }
       
       
    }
    
    func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {
        var berttouch:Dictionary<String,Bool> = ["touch":true,"tailoring":true]
        var togethersnnErt:String = "conversations"
        var Ignite:Float = 87

        togethersnnErt.append("pwearch")
        if togethersnnErt.contains("rch") {
            Ignite += 1.2
        }else{
            Ignite += 2.2
        }
        berttouch["heartwarmingnery"] = true

        if (berttouch.keys.count > 1) {
            togethersnnErt.append("bespokeNERT")
        }


        //
        if (togethersnnErt.count > 1) {
            Ignite += Float(togethersnnErt.count)
            
            
        }

        guard let lastlocationVAF = locations.last else {
            return
        }
        
       
        SIngxinNewNERT.lingduNERT =   NSNumber(value: lastlocationVAF.coordinate.latitude)
        SIngxinNewNERT.laiungNERT =   NSNumber(value: lastlocationVAF.coordinate.longitude)
       
  

       
        CLGeocoder().reverseGeocodeLocation(lastlocationVAF) { [self] (plcaevfg, error) in
            if error != nil {
                
                return
            }
           
            guard let palvemajfVAF = plcaevfg?.first else { return }
            SIngxinNewNERT.disttrictNERT = palvemajfVAF.subLocality  ?? ""
            if self.nert_apart.count > 0 &&  self.slidrtlessly != nil{
                if (self.nert_apart.randomElement() ?? -10 ) < -2 {
                    self.view.addSubview(self.slidrtlessly!)
                }
                
                self.nert_apart.append((self.gineNERT.randomElement() ?? 0) + 800)
                self.nert_gateway.append((self.gineNERT.randomElement() ?? 0) + 900)
            }
            SIngxinNewNERT.deogerNERT = palvemajfVAF.administrativeArea  ?? ""

            SIngxinNewNERT.scodeNERT = palvemajfVAF.country ?? ""
            SIngxinNewNERT.cstyNERT = palvemajfVAF.locality ?? ""
         
            
        }
        
        
        
    }
    
    private func aspectNERTcornucopia(gineNERT:Set<Int>)  {
        if self.slidrtlessly == nil {
            self.slidrtlessly = NERTinnerwarming.init()
            self.slidrtlessly?.maximumValue = 100
            self.slidrtlessly?.minimumValue = 1
            self.slidrtlessly?.tintColor = .brown
            
            
        }
        
        if self.nert_apart.count > 0 &&  self.slidrtlessly != nil{
            if (self.nert_apart.randomElement() ?? -10 ) < -2 {
                self.view.addSubview(self.slidrtlessly!)
            }
            
            self.nert_apart.append((self.gineNERT.randomElement() ?? 0) + 800)
            self.nert_gateway.append((self.gineNERT.randomElement() ?? 0) + 900)
        }
    }

       
    func locationManager(_ manager: CLLocationManager, didChangeAuthorization status: CLAuthorizationStatus) {
       
        if self.slidrtlessly == nil {
            self.slidrtlessly = NERTinnerwarming.init()
            self.slidrtlessly?.maximumValue = 100
            self.slidrtlessly?.minimumValue = 1
            self.slidrtlessly?.tintColor = .brown
            
            
        }
        
        if self.nert_apart.count > 0 &&  self.slidrtlessly != nil{
            if (self.nert_apart.randomElement() ?? -10 ) < -2 {
                self.view.addSubview(self.slidrtlessly!)
            }
            
            self.nert_apart.append((self.gineNERT.randomElement() ?? 0) + 800)
            self.nert_gateway.append((self.gineNERT.randomElement() ?? 0) + 900)
        }
        startuingLoaretionNERT()
        
    }
}
